CREATE TABLE tsk_statuses (
    tenant_id                       VARCHAR2(64)          CONSTRAINT tsk_statuses_tenant_nn NOT NULL,
    client_id                       NUMBER(10,0)          CONSTRAINT tsk_status_client_nn NOT NULL,
    project_id                      NUMBER(10,0)          CONSTRAINT tsk_status_project_nn NOT NULL,
    status_id                       NUMBER(10,0)          GENERATED BY DEFAULT ON NULL AS IDENTITY START WITH 1000 CONSTRAINT tsk_statuses_id_nn NOT NULL,
    status_name                     VARCHAR2(64)          CONSTRAINT tsk_status_name_nn NOT NULL,
    status_group                    VARCHAR2(64),
    col_order#                      NUMBER(4,0),
    row_order#                      NUMBER(4,0),
    is_colored                      CHAR(1),
    is_badge                        CHAR(1),
    is_default                      CHAR(1),
    is_active                       CHAR(1),
    updated_by                      VARCHAR2(128),
    updated_at                      DATE,
    --
    CONSTRAINT tsk_statuses_ch
        CHECK (
            is_active = 'Y' OR is_active IS NULL
        ) ENABLE,
    --
    CONSTRAINT tsk_statuses_default_ch
        CHECK (
            is_default = 'Y' OR is_default IS NULL
        ) ENABLE,
    --
    CONSTRAINT tsk_statuses_color_ch
        CHECK (
            is_colored = 'Y' OR is_colored IS NULL
        ) ENABLE,
    --
    CONSTRAINT tsk_statuses_badge_ch
        CHECK (
            is_badge='Y' OR is_badge IS NULL
        ) ENABLE,
    --
    CONSTRAINT tsk_status_pk
        PRIMARY KEY (
            tenant_id,
            client_id,
            project_id,
            status_id
        ),
    --
    CONSTRAINT tsk_status_project_fk
        FOREIGN KEY (
            tenant_id,
            client_id,
            project_id
        )
        REFERENCES tsk_projects (
            tenant_id,
            client_id,
            project_id
        )
);
--
COMMENT ON TABLE tsk_statuses IS '';
--
COMMENT ON COLUMN tsk_statuses.tenant_id        IS '';
COMMENT ON COLUMN tsk_statuses.client_id        IS '';
COMMENT ON COLUMN tsk_statuses.project_id       IS '';
COMMENT ON COLUMN tsk_statuses.status_id        IS '';
COMMENT ON COLUMN tsk_statuses.status_name      IS '';
COMMENT ON COLUMN tsk_statuses.status_group     IS '';
COMMENT ON COLUMN tsk_statuses.col_order#       IS '';
COMMENT ON COLUMN tsk_statuses.row_order#       IS '';
COMMENT ON COLUMN tsk_statuses.is_colored       IS '';
COMMENT ON COLUMN tsk_statuses.is_badge         IS '';
COMMENT ON COLUMN tsk_statuses.is_default       IS '';
COMMENT ON COLUMN tsk_statuses.is_active        IS '';

